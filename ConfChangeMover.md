#ConfChangeMover
*Back to [[Mover|Movers-RosettaScripts]] page.*
## ConfChangeMover

Samples new protein conformations as described in:                     
[Modeling of protein conformational changes with Rosetta guided by limited experimental data](https://www.biorxiv.org/content/10.1101/2022.02.14.480383v1) (2022)                                          
Davide Sala, Diego del Alamo, Hassane S. Mchaourab, Jens Meiler
https://doi.org/10.1101/2022.02.14.480383

Documentation written by Davide Sala (davide.sala@uni-leipzig.de).
## Overview

Given a starting structure, ConfChangeMover perturbs the protein pose in two steps:                                       
1. Secondary Structure Elements (SSEs) are roto-translated. Optionally, new dihedral angles are sampled through fragments insertion.
2. Loops are closed with fragments insertion. In this step, the intensity of sampling new loops conformations can be tuned through the frequency of inserting fragments taken from the starting structure rather than from the PDB. Higher frequency means more starting conformation fragments and a more conservative sampling.                  

If not provided, PDB-derived fragments are automatically retrieved. To significantly speed up the calculation, fragments can be obtained from http://old.robetta.org and provided through the corresponding option (see below).

## Usage 
Mandatory XML options
```xml
     <ConfChangeMover name="&string" stage1_scorefxn="&string" stage2_scorefxn="&string" /> 
```
Stage1 and stage2 scoring functions must be 'centroid'.

### Soluble Proteins
For soluble proteins, the 'score3' scoring function can be used.
A tutorial on modeling a conformational change with distance restraints can be found here https://www.rosettacommons.org/demos/latest/public/confchangemover_soluble/README

### Membrane Proteins
For membrane proteins, the centroid scoring function used in the CCM benchmark is reported below:
```
hbond_sr_bb 1.17
hbond_lr_bb 1.17
rama        0.15
omega       0.2
rg          0.1
vdw         1.0
Menv 2.019
Mpair 1.0
Mcbeta 2.5
cenpack_smooth  1.0
cart_bonded     0
rsigma 1.0
sheet 1.0
ss_pair 1.0
hs_pair 1.0
Menv_non_helix 2.019
Menv_termini 2.019
Menv_tm_proj 2.019
cen_hb 1
```
Stage1 requires dihedral constraints (automatically derived) and any other constraints to perform rigid-body movements of SSEs. Below how to add the corresponding weight terms in the XML file:
```xml
         <ScoreFunction name="&string" weights="&real" >
                <Reweight scoretype="dihedral_constraint" weight="&real" />
                any other constraints like 'epr_deer_score', 'atom_pair_constraint' etc.
        </ScoreFunction>
```
Stage2 requires the cart_bonded term to close gaps on loops.
```xml
         <ScoreFunction name="&string" weights="&real" >
                <Reweight scoretype="cart_bonded" weight="&real" />
                any other constraints like 'epr_deer_score', 'atom_pair_constraint' etc.
        </ScoreFunction>
```

Membrane proteins require a span file to be generated. A spanfile is a file format used by Rosetta for modeling of alpha-helical membrane proteins. It contains the number, length and sequence position of trans-membrane helices. Such information can be retrieved using the sequence-based transmembrane helix prediction tool TOPCONS (https://topcons.cbr.su.se/) from a FASTA file.   
A span file from the TOPCONS output can be generated by using the topcons2span.pl script (https://github.com/davidesala/topcons2span) as follow:
```
perl topcons2span.pl <TOPCONS topology file>
```
Alternatively, a span file can be generated following these instructions https://new.rosettacommons.org/docs/wiki/application_documentation/membrane_proteins/RosettaMP-App-MPSpanFromPDB

A tutorial on modeling a conformational change with DEER distances can be found here 
https://www.rosettacommons.org/demos/latest/public/confchangemover_membrane/README

## Detailed control

[[include:mover_ConfChangeMover_type]]
