<!-- THIS IS AN AUTOGENERATED FILE: Don't edit it directly, instead change the schema definition in the code itself. -->

_Autogenerated Tag Syntax Documentation:_

---
A metric to measure hydrogen bonds between a set of residues that are water-mediated.

 DEPTH:
  Depth is set to a default of 1 (IE a single water mediates the hydrogen bond).  Make sure to set the -ignore_waters flag to false in order to have Rosetta include the HOH residues.

 SELECTION:
  If one residue selector is given, will calculate bridged water paths between residues of the selection and all [OTHER] residues that are not water, otherwise it will calculate bridges between one selection and another.

If NO SELECTION is give, will report ALL bridged hbonds in a pose [by default without self-water-self hbonds].
 HBONDS:
  Since these are bridged hbonds, and h-bond networks can be rather complex, the numbers
   reported here are the unique h-bond paths from sele1 to sele2.  If you give only a single residue selector, these are bridged hbonds from sele1 to OTHER residues in the pose not including water. Pass the same selection to get internal bridges of a selection.
   By default we do not include mediated hbonds back on itself, but this is an option.

 TIPS:
  It is generally recommended to repack the waters using the OptH TaskOperation before input into this metric, especially if only Oxygens were present.  

  Using the option -include_vrt false will keep all waters present in the resulting structure.  Use the option -corrections::water::wat_rot_sampling 10 to decrease the angle of sampling from a default of 30 to 10 or 15.  This will result in many more rotamers (and run-time), but will improve networks.

  Hydration shells can be calculated by passing selection1 as all waters in the pose, selection2 as the protein or chain, and then reporting only a single depth (with max_depth at 0 and 1) for the first and second shell waters. Post-processing will be needed.
  Finally, it is generally recommended to use the -beta_nov16 and -genpot scorefunctions as this can result in better h-bond detection.  Both of these have been published and can be turned on together using the -beta flag.

 AUTHORS:
  Jared Adolf-Bryfogle (jadolfbr@gmail.com)
   Citation: De-Novo Glycan Modeling in Rosetta (drafting)

  Ryan Pavlovicz (Rosetta-ECO: Explicit Consideration of cOordinated water)   Citation: 'Efficient consideration of coordinated water molecules improves computational protein- protein and protein-ligand docking', biorxiv, PLOS CB in-review

```xml
<WaterMediatedHbondMetric name="(&string;)" custom_type="(&string;)"
        output_as_pdb_nums="(false &bool;)" residue_selector="(&string;)"
        residue_selector2="(&string;)" depth="(1 &positive_integer;)"
        include_only_set_depth="(false &bool;)" include_self="(false &bool;)"
        include_virt_waters="(false &bool;)" />
```

-   **custom_type**: Allows multiple configured SimpleMetrics of a single type to be called in a single RunSimpleMetrics and SimpleMetricFeatures. 
 The custom_type name will be added to the data tag in the scorefile or features database.
-   **output_as_pdb_nums**: If outputting to scorefile use PDB numbering+chain instead of Rosetta (1 - N numbering)
-   **residue_selector**: If a residue selector is present, we only calculate and output metrics for the subset of residues selected. The name of a previously declared residue selector or a logical expression of AND, NOT (!), OR, parentheses, and the names of previously declared residue selectors. Any capitalization of AND, NOT, and OR is accepted. An exclamation mark can be used instead of NOT. Boolean operators have their traditional priorities: NOT then AND then OR. For example, if selectors s1, s2, and s3 have been declared, you could write: 's1 or s2 and not s3' which would select a particular residue if that residue were selected by s1 or if it were selected by s2 but not by s3.
-   **residue_selector2**: Optional Selector to measure water-mediated hbonds between residues in each selection, instead of between residues within a single selector.  If NO selector is given, will calculate ALL bridged hbonds between all residues. The name of a previously declared residue selector or a logical expression of AND, NOT (!), OR, parentheses, and the names of previously declared residue selectors. Any capitalization of AND, NOT, and OR is accepted. An exclamation mark can be used instead of NOT. Boolean operators have their traditional priorities: NOT then AND then OR. For example, if selectors s1, s2, and s3 have been declared, you could write: 's1 or s2 and not s3' which would select a particular residue if that residue were selected by s1 or if it were selected by s2 but not by s3.
-   **depth**: Depth we will go to find hbond (paths). A depth of one (default) means a single water mediates the hydrogen bond(s).
-   **include_only_set_depth**: Only calculate hbond paths AT the specific depth instead of UP TO AND INCLUDING that depth.
-   **include_self**: Set to include self-self hydrogen bonds: Ex: resJ - water - resJ
-   **include_virt_waters**: After (OptH) water packing, some waters become HOH_V if they don't match certain ref energy.
Set this option to true to incude them in our calculation if they are still virts.
Note: The option -include_vrt false will have them all be HOH during packing. Use if you are packing water oxygens from a crystal.

---
